/**
 * @PluginName	jquery.nPageLoader.js
 * @Requires	jQuery v1.0.4 ~ v1.10.2
 * @Author		nonoll ( http://usefl.co.kr - hyunkwan Roh )
 * @Version		1.0.1
 * @Date		2014.01.22
 */
!function(e,o){"use strict";var n,t,i,r,s,a=0,c={},l=0;e.nPageLoader={options:{},init:function(o){n=this,this.options=e.extend({},e.nPageLoader.defaults,o),this.options.kb&&(this.options.urlSize*=1024,this.options.size*=1024),this.log("usefl - jquery.nPageLoader.js\nversion : "+this.version),this.log("init"),this.run()},run:function(){this.log("run"),(r=new Image).onload=function(e){i=n.getTime(),n.checkSpeed()},t=this.getTime(),this.options.noCache?r.src=this.options.url+"?noCache="+Math.random():r.src=this.options.url,this.log("src : "+r.src)},progress:function(){var e=(i=n.getTime())-t,r=Math.round(s*e)/1e3,u=n.options.size;a=(a=Math.round(r/u*100))>=100?100:a,c.progress&&c.progress({event:"progress",byteLoaded:r/1024,byteTotal:u/1024,percent:a}),n.log("progress : "+a),a>=100?n.complete():l=o.requestAFrame(n.progress)},complete:function(){n.log("complete : "+a),c.complete&&c.complete({event:"complete",percent:a}),l&&o.cancelAFrame(l)},checkSpeed:function(){var e=(i-t)/1e3,o=8*this.options.urlSize,r=Math.round(o/e),a=(r/1024).toFixed(2),c=(a/1024).toFixed(2);s=r,this.log("Your connection speed is: \n"+e+" s\n"+r+" bps\n"+a+" kbps\n"+c+" Mbps"),t=n.getTime(),n.progress()},getTime:function(){return(new Date).getTime()},log:function(e){if(this.options.log)if(!1 in o||"undefined"==typeof console){var n=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"],t=function(){};o.console={};for(var i=0;i<n.length;++i)o.console[n[i]]=t}else console.log(e)},addEventListener:function(e,o){switch(e){case"progress":c.progress=o;break;case"complete":c.complete=o}},version:"1.0.1"},e.nPageLoader.defaults={url:"http://www.google.com/images/srpr/nav_logo14.png",urlSize:28.6,size:155,kb:!0,noCache:!0,log:!1},o.requestAFrame=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||o.oRequestAnimationFrame||function(e){return o.setTimeout(e,10)},o.cancelAFrame=o.cancelAnimationFrame||o.webkitCancelAnimationFrame||o.mozCancelAnimationFrame||o.oCancelAnimationFrame||function(e){o.clearTimeout(e)}}(jQuery,window);